#include <Arduino.h>
// Solder closed jumper on bottom!

// See http://www.vlsi.fi/fileadmin/datasheets/vs1053.pdf Pg 31
#define VS1053_BANK_DEFAULT 0x00
#define VS1053_BANK_DRUMS1 0x78
#define VS1053_BANK_DRUMS2 0x7F
#define VS1053_BANK_MELODY 0x79

// See http://www.vlsi.fi/fileadmin/datasheets/vs1053.pdf Pg 32 for more!
#define VS1053_GM1_ACOUSTIC_GRAND_PIANO 1
#define VS1053_GM1_BRIGHT_ACOUSTING_PIANO 2
#define VS1053_GM1_ELECTRIC_GRAND_PIANO 3
#define VS1053_GM1_HONKY_TONK_PIANO 4
#define VS1053_GM1_ELECTRIC_PIANO_1 5

#define VS1053_GM1_VIBRAPHONE 12

#define VS1053_GM1_DRAWBAR_ORGAN 17
#define VS1053_GM1_PERCUSSIVE_ORGAN 18
#define VS1053_GM1_ROCK_ORGAN 19
#define VS1053_GM1_CHURCH_ORGAN 20
#define VS1053_GM1_REED_ORGAN 21
#define VS1053_GM1_ACCORDION 22
#define VS1053_GM1_HARMONICA 23
#define VS1053_GM1_TANGO_ACCORDION 24

#define VS1053_GM1_VIOLIN 41
#define VS1053_GM1_VIOLA 42
#define VS1053_GM1_CELLO 43
#define VS1053_GM1_CONTRABASS 44
#define VS1053_GM1_TREMOLO_STRINGS 45

#define VS1053_GM1_CHOIR_AAHS 53
#define VS1053_GM1_VOICE_OOHS 54

#define VS1053_GM1_TRUMPET 57
#define VS1053_GM1_TROMBONE 58
#define VS1053_GM1_TUBA 59
#define VS1053_GM1_MUTED_TRUMPET 60
#define VS1053_GM1_FRENCH_HORN 61
#define VS1053_GM1_BRASS_SECTION 62
#define VS1053_GM1_SYNTH_BRASS_1 63
#define VS1053_GM1_SYNTH_BRASS_2 64
#define VS1053_GM1_SOPRANO_SAX 65
#define VS1053_GM1_ALTO_SAX 66
#define VS1053_GM1_TENOR_SAX 67
#define VS1053_GM1_BARITONE_SAX 68
#define VS1053_GM1_OBOE 69
#define VS1053_GM1_ENGLISH_HORN 70
#define VS1053_GM1_BASSOON 71
#define VS1053_GM1_CLARINET 72
#define VS1053_GM1_PICCOLO 73
#define VS1053_GM1_FLUTE 74
#define VS1053_GM1_RECORDER 75
#define VS1053_GM1_PAN_FLUTE 76
#define VS1053_GM1_BLOWN_BOTTLE 77
#define VS1053_GM1_SHAKUHACHI 78
#define VS1053_GM1_WHISTLE 79
#define VS1053_GM1_OCARINA 80

#define VS1053_GM1_NEW_AGE 89
#define VS1053_GM1_WARM_PAD 90
#define VS1053_GM1_POLYSYNTH 91
#define VS1053_GM1_CHOIR 92
#define VS1053_GM1_BOWED 93
#define VS1053_GM1_METALLIC 94
#define VS1053_GM1_HALO 95
#define VS1053_GM1_SWEEP 96
#define VS1053_GM1_RAIN 97
#define VS1053_GM1_SOUND_TRACK 98
#define VS1053_GM1_CRYSTAL 99
#define VS1053_GM1_ATMOSHPERE 100
#define VS1053_GM1_BRIGHTNESS 101
#define VS1053_GM1_GOBLINS 102
#define VS1053_GM1_ECHOES 103
#define VS1053_GM1_SCI_FI 104

#define VS1053_GM1_TINKLE_BELL 113
#define VS1053_GM1_AGOGO 114
#define VS1053_GM1_PITCHED_PERCUSSION 115
#define VS1053_GM1_WOODBLOCK 116
#define VS1053_GM1_TAIKO_DRUM 117
#define VS1053_GM1_MELODIC_DRUM 118
#define VS1053_GM1_SYNTH_DRUM 119
#define VS1053_GM1_REVERSE_CYMBAL 120
#define VS1053_GM1_GUITAR_FRET_NOISE 121
#define VS1053_GM1_BREATH_NOISE 122
#define VS1053_GM1_SEASHORE 123
#define VS1053_GM1_BIRD_TWEET 124
#define VS1053_GM1_TELEPHONE_RING 125
#define VS1053_GM1_HELICOPTER 126
#define VS1053_GM1_APPLAUSE 127
#define VS1053_GM1_GUNSHOT 128

#define MIDI_NOTE_ON  0x90
#define MIDI_NOTE_OFF 0x80
#define MIDI_CHAN_MSG 0xB0
#define MIDI_CHAN_BANK 0x00
#define MIDI_CHAN_VOLUME 0x07
#define MIDI_CHAN_PROGRAM 0xC0

// Which output to use for midi (depending on Arduino)
#define VS1053_MIDI Serial1

void midiSetInstrument(uint8_t chan, uint8_t inst);
void midiSetChannelVolume(uint8_t chan, uint8_t vol);
void midiSetChannelBank(uint8_t chan, uint8_t bank);
void midiNoteOn(uint8_t chan, uint8_t n, uint8_t vel);
void midiNoteOff(uint8_t chan, uint8_t n, uint8_t vel);
void midiAllOff(uint8_t chan);